<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> a post with code | Abdulrahman E. Alkurdi </title> <meta name="author" content="Abdulrahman E. Alkurdi"> <meta name="description" content="an example of a blog post with some code"> <meta name="keywords" content="Machine Learning Engineer, Data Scientist, Polymath, Aerospace Engineer, Mechanical Engineer, Affective Computing expert, ML for Applied Health"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%96&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://abdulalkurdi.com/blog/2015/dicegame_theory/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Abdulrahman</span> E. Alkurdi </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">a post with code</h1> <p class="post-meta"> July 15, 2015 </p> <p class="post-tags"> <a href="/blog/2015"> <i class="fa-solid fa-calendar fa-sm"></i> 2015 </a>   ·   <a href="/blog/tag/probability"> <i class="fa-solid fa-hashtag fa-sm"></i> probability</a>   <a href="/blog/tag/puzzle"> <i class="fa-solid fa-hashtag fa-sm"></i> puzzle</a>     ·   <a href="/blog/category/puzzle"> <i class="fa-solid fa-tag fa-sm"></i> puzzle</a>   <a href="/blog/category/probability"> <i class="fa-solid fa-tag fa-sm"></i> probability</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>So this is a dice game with some interesting game theory involved. I was a little surprised to find most solutions online seemed incorrect to me so I solved it to find out.</p> <p>Solutions posted online are the following:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">text
</span>
the expected value for the roll is 15.5 so to maximize winning player A can immedietly get one of the closest positions to minimize distance. 16 is the better of the two 15 and 16

<span class="p">```</span>
</code></pre></div></div> <p>That can’t be true! Can it? Let’s find out!</p> <p>To find out if it’s better to be player A or B, we need to find out what are the expected winnings for each player VS the other. There are three things we need to find out:</p> <ol> <li>What is the optimal policy for B given A’s choice?</li> <li>What is the optimal policy for A given B’s choice?</li> </ol> <p>I think the first part is easier. For a given choice of A, what’s the best policy? When A chooses a value, they effectively split the problem into two dice games, and B’s choice is to pick which dice they want to be rewarded. If A picks 15, the expected value of winnings &gt; 15 is naturally higher than those of &lt; 15. Whatever B choses, A, automatically wins all the rolls on the opposite side, plus they share what’s in between them and B. Naturally, to limit A’s winnings, picking the roll immedietly adjacent to to their choice, minimizes their winnings for that choice. So the optimal policy for B is either A+1 or A-1, depending on which side has higher expected value.</p> <p>Now that we’ve identified B’s optimal choice, next, is finding what’s the optimal choice for A. It’s a straight forward search problem, and the solution space is small so no issues there. Let’s set the problem up.</p> <p>To calculate the expected winnings for both players, let’s create function <code class="language-plaintext highlighter-rouge">calculate_expected_winnings</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Function to calculate expected winnings for Player A and Player B
</span><span class="k">def</span> <span class="nf">calculate_expected_winnings</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">expected_winnings_A</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">expected_winnings_B</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">n_A</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_sides</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">winnings_A</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">winnings_B</span> <span class="o">=</span> <span class="mi">0</span>
              
        <span class="k">if</span> <span class="n">n_A</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">:</span>
            <span class="c1"># Compare the expected utility of choosing n_A - 1 vs n_A + 1 for B
</span>            <span class="c1"># This simplification assumes equal probability for all rolls and does not account for the exact expected utility calculation
</span>            <span class="n">optimal_B_policy</span> <span class="o">=</span> <span class="n">n_A</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">n_A</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">:</span>
            <span class="n">optimal_B_policy</span> <span class="o">=</span> <span class="n">n_A</span> <span class="o">-</span> <span class="mi">1</span>
        
        <span class="k">for</span> <span class="n">roll</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_sides</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="c1"># Determine winner based on roll
</span>            <span class="n">distance_A</span> <span class="o">=</span> <span class="nf">abs</span><span class="p">(</span><span class="n">roll</span> <span class="o">-</span> <span class="n">n_A</span><span class="p">)</span>
            <span class="n">distance_B</span> <span class="o">=</span> <span class="nf">abs</span><span class="p">(</span><span class="n">roll</span> <span class="o">-</span> <span class="n">optimal_B_policy</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">distance_A</span> <span class="o">&lt;</span> <span class="n">distance_B</span><span class="p">:</span>
                <span class="n">winnings_A</span> <span class="o">+=</span> <span class="n">roll</span>
            <span class="k">elif</span> <span class="n">distance_B</span> <span class="o">&lt;</span> <span class="n">distance_A</span><span class="p">:</span>
                <span class="n">winnings_B</span> <span class="o">+=</span> <span class="n">roll</span>
            <span class="c1"># In case of a tie, split the winnings (though ties are very unlikely in this setup)
</span>            <span class="k">else</span><span class="p">:</span>
                <span class="n">winnings_A</span> <span class="o">+=</span> <span class="n">roll</span> <span class="o">/</span> <span class="mi">2</span>
                <span class="n">winnings_B</span> <span class="o">+=</span> <span class="n">roll</span> <span class="o">/</span> <span class="mi">2</span>
        
        <span class="c1"># Calculate expected winnings
</span>        <span class="n">expected_winnings_A</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">winnings_A</span> <span class="o">/</span> <span class="n">n_sides</span><span class="p">)</span>
        <span class="n">expected_winnings_B</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">winnings_B</span> <span class="o">/</span> <span class="n">n_sides</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">expected_winnings_A</span><span class="p">,</span> <span class="n">expected_winnings_B</span>

</code></pre></div></div> <p>Now we search and generate the plot:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Search for the optimal choice
</span><span class="n">total_expected_winnings_by_x</span> <span class="o">=</span> <span class="p">[</span><span class="nf">calculate_total_expected_winnings_for_B</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_sides</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>

<span class="c1"># Find the x with the highest total expected winnings for Player B
</span><span class="n">optimal_x</span> <span class="o">=</span> <span class="n">total_expected_winnings_by_x</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="n">total_expected_winnings_by_x</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span>

<span class="c1"># Calculate the expected winnings for Player A and Player B at the optimal x
</span><span class="n">expected_winnings_A</span><span class="p">,</span> <span class="n">expected_winnings_B</span> <span class="o">=</span> <span class="nf">calculate_expected_winnings</span><span class="p">(</span><span class="n">optimal_x</span><span class="p">)</span>
</code></pre></div></div> <p>Plotting the results:</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/overall_winnings.svg-480.webp 480w,/assets/img/overall_winnings.svg-800.webp 800w,/assets/img/overall_winnings.svg-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/overall_winnings.svg" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/winnings_closer-480.webp 480w,/assets/img/winnings_closer-800.webp 800w,/assets/img/winnings_closer-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/winnings_closer.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Ok so knowing what we know, in absolute terms, player A can have the highest expected return when choosing 21. But I wouldn’t want to be player A for that small of an edge, with that huge downside (significantly less winnings for the rest of choice). I would take B as in the worst case scenario, I am better positioned to win “almost” as much as A, if they play perfectly. Otherwise, I have much higher upside.</p> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Abdulrahman E. Alkurdi. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?da39b660470d1ba6e6b8bf5f37070b6e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>